{"version":3,"sources":["utils/axios.js","Containers/Pairs/Pairs.js"],"names":["instance","axios","create","baseURL","Pairs","props","useState","loading","setLoading","message","setMessage","pairs","setPairs","newPair","setNewPair","updatePairs","headers","localStorage","getItem","then","response","data","console","log","status","alert","history","push","catch","err","useEffect","id","className","style","display","justifyContent","length","map","pair","paddingBottom","symbol","type","disabled","backgroundColor","value","inTrade","color","onClick","e","_id","name","delete","placeholder","onChange","target","post"],"mappings":"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","file":"static/js/11.9831dfc1.chunk.js","sourcesContent":["import axios from \"axios\";\n\n\nconst instance = axios.create({\n    baseURL: \"http://paulthebot.chevrtech.com/api\"\n})\n\nexport default instance;","import React, {useEffect, useState} from 'react';\nimport axios from '../../utils/axios';\nimport { Link } from 'react-router-dom';\n\nconst Pairs = (props) => {\n    // const [state, setState] = useState({\n    //     margin: 0\n    // });\n    const [loading, setLoading] = useState(false);\n    const [message, setMessage] = useState('');\n    const [pairs, setPairs] = useState([]);\n    const [newPair, setNewPair] = useState('');\n\n    const handleDelete = (id, name) => {\n        setLoading(true);\n        setMessage('Loading');\n        axios.delete('/pairs/' + id, {\n            headers: {\n                \"X-Auth-token\": localStorage.getItem('X-Auth-token')\n            }\n        })\n        .then(response => {\n            let data = response.data;\n            setLoading(false);\n            if(data.status == 401) {\n                setMessage(data.message);\n                props.history.push('/login');\n            }\n            if(data.status == 200) {\n                setMessage(name + ' pair deleted');\n                updatePairs();\n            }\n        })\n        .catch(err => {\n            console.log(err)\n            alert(err.message || 'something went wrong');\n            setLoading(false);\n            setMessage('Try again')\n        });        \n    }\n\n    const addNewPair = () => {\n        setLoading(true);\n        setMessage('Loading');\n        axios.post('/pairs', { symbol: newPair }, {\n            headers: {\n                \"X-Auth-token\": localStorage.getItem('X-Auth-token')\n            }\n        })\n        .then(response => {\n            let data = response.data;\n            setLoading(false);\n            if(data.status == 401) {\n                setMessage(data.message);\n                props.history.push('/login');\n            }\n            if(data.status == 200) {\n                setMessage(newPair + ' pair has been added');\n                updatePairs();\n                setNewPair('');\n            }\n        })\n        .catch(err => {\n            alert(err.response&&err.response.data&&err.response.data.message? \n                err.response.data.message: 'something went wrong' );\n            setLoading(false);\n            setMessage('Try again');\n        });\n    }\n\n\n    const updatePairs = () => {\n        axios('/pairs', {\n            headers: {\n                \"X-Auth-token\": localStorage.getItem('X-Auth-token')\n            }\n        })\n        .then(response => {\n            let data = response.data;\n            console.log(data.status)\n            if(data.status == 401) {\n                alert('You need to log in');\n                props.history.push('/login');\n            }\n            if(data.status == 200) {\n                setPairs(data.pairs);\n            }\n        })\n        .catch(err => {\n            alert(err.message || 'something went wrong');            \n        })\n    }\n\n    useEffect(() => {\n        updatePairs();\n    }, []);\n\n    return (\n        <div id=\"page-wrapper\" >\n            <div id=\"page-inner\">\n                <div className=\"row text-center\" style={{display: \"flex\", justifyContent: 'center'}}>\n                    <div className=\"col-lg-6 col-md-8 col-sm-10 col-xs-10 text-center\">\n                        <h3>Trading pairs</h3>\n                        <br />\n                        <div className='row'>\n                            <div className=\"panel panel-primary\">\n                                <div className=\"panel-heading\">\n                                    Add or delete pairs!\n                                </div>\n                                <div className=\"panel-body\">\n                                    {\n                                        pairs.length < 1? \n                                        <div>No pairs yet! Add one below</div>:\n                                        pairs.map(pair => {\n                                            return (\n                                                <div className=\"input-group\" key={pair._id} style={{paddingBottom: 20}}>\n                                                    <span className=\"input-group-addon\">{pair.symbol}</span>\n                                                    <input type=\"text\" className=\"form-control\" disabled style={{backgroundColor: '#fff'}}\n                                                     value={'Trading: ' + (pair.inTrade? 'Yes': 'No')} />\n                                                    <span className=\"input-group-addon btn btn-warning\" style={{color: '#a94442', backgroundColor: '#f2dede'}}\n                                                    onClick={e => handleDelete(pair._id, pair.symbol)}  disabled={loading}>Delete</span>\n                                                </div>\n                                            )\n                                        })\n                                    }\n                                    \n                                    \n                                    <br />\n                                    <div className=\"input-group\">\n                                        <span className=\"input-group-addon\">ADD</span>\n                                        <input type=\"text\" className=\"form-control\" placeholder='Symbol e.g. BTCUSDT' \n                                        value={newPair} onChange={e => { setNewPair(() => e.target.value) }} />\n                                        <span className=\"input-group-addon btn btn-success\" style={{color: '#fff', backgroundColor: '#5cb85c'}}\n                                          disabled={loading} onClick={addNewPair}>Submit</span>\n                                    </div>\n\n                                </div>\n                                <div className=\"panel-footer\">\n                                    {message || 'Please cross-check before adding a pair'}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Pairs;"],"sourceRoot":""}